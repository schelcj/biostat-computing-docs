<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Biostatistics Cluster Quickstart Guide</title>
	<link type="text/css" rel="stylesheet" href="/css/sph.css"/>
	<link type="text/css" rel="stylesheet" href="/biostat/css/stylesheet.css"/>
	<link type="text/css" rel="stylesheet" href="/biostat/computing/overrides.css"/>
<link rel="stylesheet" type="text/css" href="/css/print.css" media="print" />
<link rel="stylesheet" type="text/css" href="/css/mobile.css" media="handheld" />
	<meta name="breadcrumb" content="sph|biostat|computing|cluster"/>
</head>
<body>
<!--#include virtual="/biostat/computing/header.shtml" -->

<h1 id="biostatisticsclusterquickstartguide">Biostatistics Cluster Quickstart Guide</h1>

<p>This guide will help you get your account, login, and run your first job.</p>

<ol>
<li><h1 id="requestinganaccount">Requesting an account</h1>

<p>Have your faculty advisor or PI email <a href="&#x6d;&#97;&#x69;&#x6c;&#x74;&#x6f;&#58;&#115;&#x70;&#x68;&#45;&#x62;&#105;&#x6f;&#x73;&#116;&#97;&#116;&#45;&#104;&#x65;&#108;&#x70;&#x40;&#117;&#109;&#105;&#x63;&#x68;&#x2e;&#x65;&#100;&#117;">&#115;&#x70;&#x68;&#x2d;&#98;&#x69;&#111;&#x73;&#x74;&#x61;&#x74;&#45;&#x68;&#101;&#108;&#x70;&#64;&#x75;&#109;&#x69;&#99;&#104;&#x2e;&#101;&#100;&#117;</a> requesting an account.</p></li>
<li><h1 id="loggingin">Logging in</h1>

<p>Using a terminal program <em>(eg; PuTTy, secure shell, ssh from a terminal)</em> connect to host biostat-login.sph.umich.edu using your uniqname for the login name and your SPH Kerberos/IFS password.</p></li>
<li><h1 id="copycodesanddatatologinnode">Copy code<em>(s)</em> and data to login node</h1>

<p>Using scp/sftp from the terminal or your secure shell application upload any programs, scripts and data files you will need to run your code.
Alternately, if all your files are in IFS you could copy them to your cluster home directory with the following comment</p>

<pre><code>$ cp ~/ifs/script.R ~/
</code></pre></li>
<li><h1 id="creatingabatchscript">Creating a batch script</h1>

<p>Create a text file that you will use to submit your job. You can upload this as in step 3 or create in place in the terminal with a text editor. An easy to use editor is <em>nano</em>.
Here is a quick sample batch script for running a single job with a default resource allocation of 1 cpu core and 1.5GB of memory running for 1 day.</p>

<pre><code>#!/bin/sh
#SBATCH --mail-type=ALL
#SBATCH --mail-user=uniqname@umich.edu
#SBATCH --job-name=my_first_job
#SBATCH --time=1-00:00:00

srun R CMD BATCH ./script.R&lt;/pre&gt;
</code></pre></li>
<li><h1 id="submittingyourjob">Submitting your job</h1>

<p>Assuming you saved the above batch script to <em>job.txt</em> in your home directory you can submit the job with sbatch like this:</p>

<pre><code>$ sbatch ./job.txt
</code></pre>

<p>You will see the job id for the job you just submitted and will receive an email when the job starts, when it ends, and if it should fail.</p></li>
<li><h1 id="checkingthestatusofyourjob">Checking the status of your job</h1>

<p>You can check the status of your job in the queue with the <em>squeue</em> command:</p>

<pre><code>$ squeue -u $USER
</code></pre></li>
</ol>

<!--#include virtual="/biostat/computing/footer.shtml" -->
</body>
</html>
